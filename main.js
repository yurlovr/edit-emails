!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){var i=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},o=(i(r,a),r.locals?r.locals:{});e.exports=o},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function l(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},i=[],r=0;r<e.length;r++){var a=e[r],u=t.base?a[0]+t.base:a[0],s=n[u]||0,c="".concat(u," ").concat(s);n[u]=s+1;var d=l(c),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(m)):o.push({identifier:c,updater:h(m,t),references:1}),i.push(c)}return i}function s(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function m(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,b=0;function h(e,t){var n,i,r;if(t.singleton){var a=b++;n=f||(f=s(t)),i=m.bind(null,n,a,!1),r=m.bind(null,n,a,!0)}else n=s(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=l(n[i]);o[r].references--}for(var a=u(e,t),s=0;s<n.length;s++){var c=l(n[s]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=a}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,"h1[input-email]{margin:0;padding:0}p[input-email]{margin:0;padding:0}ul[input-email]{list-style:none;padding:0;margin:0}button[input-email]{padding:0;border:none;font:inherit;color:inherit;background-color:transparent;cursor:pointer}.wrapper[input-email]{font-family:Open Sans;margin-left:auto;margin-right:auto;max-width:540px;background-color:#FFFFFF;box-shadow:0px 8px 20px rgba(0,0,0,0.2);border-radius:8px}.container[input-email]{padding-left:50px;padding-right:50px;padding-top:32px;padding-bottom:24px;background-color:#F8F8F7;border-radius:8px 8px 0px 0px}.header_text[input-email]{margin-bottom:24px;font-family:Open Sans;font-style:normal;font-weight:normal;font-size:20px;line-height:27px;color:#050038}.header_text[input-email] span{font-weight:bold}.email_container[input-email]{display:flex;flex-wrap:wrap;align-items:flex-start;padding-top:8px;padding-bottom:8px;max-width:440px;min-height:100px;height:100px;width:100%;background-color:#FFFFFF;border:1px solid #C3C2CF;box-sizing:border-box;border-radius:4px;overflow:auto}.email_container[input-email]::-webkit-scrollbar{border-radius:50%;width:3px}.email_container[input-email]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,0.3)}.email_container[input-email]::-webkit-scrollbar-thumb{background-color:darkgrey;outline:1px solid slategrey}.email_list[input-email]{display:flex;flex-wrap:wrap}.email_item[input-email]{padding-left:10px;padding-right:16px;margin-bottom:4px;margin-left:8px;background-color:rgba(102,153,255,0.2);border-radius:100px;font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;line-height:24px;color:#050038}.email_input[input-email]{border:none;font-size:14px;line-height:23px;margin-left:8px;outline:none}.email_input[input-email]::placeholder{font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;line-height:24px;color:#C3C2CF}.email_item-input[input-email]:last-child{margin-left:8px}.email_item-wrong[input-email]{background-color:#FFFFFF;border-bottom:1px dashed #D92929;border-radius:inherit}.email_item-del[input-email]{position:relative;width:8px;height:8px;top:0px;right:-8px;cursor:pointer;display:inline-block}.email_item-del[input-email]::before,.email_item-del[input-email]::after{position:absolute;content:'';width:10px;height:1px;background-color:#000000;top:3px;right:-1px}.email_item-del[input-email]::before{transform:rotate(45deg)}.email_item-del[input-email]::after{transform:rotate(-45deg)}.buttons_container[input-email]{padding-top:24px;padding-left:50px;max-width:100%;background-color:#FFFFFF;border-radius:8px}.button[input-email]{font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;line-height:24px;padding:8px 16px;margin-bottom:32px;color:#FFFFFF;background-color:#4262FF;border-radius:6px}.button[input-email]:last-child{margin-left:16px}.hidden[input-email]{display:none}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,l=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(u," */")),a=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([r]).join("\n")}var o,l,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){"use strict";n.r(t);n(0);function i(e,t){var n=e+Math.random()*(t+1-e);return Math.floor(n)}function r(e){for(var t="",n=0;n<e;n++){var i=Math.floor(25*Math.random()+97);t+=String.fromCharCode(i)}return t}function a(e){var t="".concat(r(i(5,8)),"@").concat(r(i(2,4)),".").concat(r(i(2,4)));return{email:t,id:t+e,isValid:!0}}var o=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;function l(e,t){if(Array.isArray(t))t.forEach((function(t){u(e,t.event,t.callback)}));else{var n=t.event,i=t.callback;u(e,n,i)}}function u(e,t,n){e.addEventListener(t,n)}function s(e,t){return e+(t.length+1)}var c=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"subscribe",{enumerable:!0,writable:!0,value:function(e){t.observers.push(e)}}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,writable:!0,value:function(e){t.observers=t.observers.filter((function(t){return t!==e}))}}),Object.defineProperty(this,"broadcast",{enumerable:!0,writable:!0,value:function(e){t.observers.forEach((function(t){return t(e)}))}}),this.observers=[]};function d(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,a=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e){var t=e.element,n=e.sectionEmails,i=e.buttonsSection,r=e.id,a=e.position,o=document.createElement("div");o.id="emails-input"+Math.random(),o.classList.add("wrapper"),a&&(o.style.position="absolute",o.style.top=a.top,o.style.left=a.left),o.insertAdjacentElement("afterbegin",n),o.insertAdjacentElement("beforeend",i),t.insertAdjacentElement("afterbegin",o),function(e){var t,n=d(document.querySelectorAll("#".concat(e," *")));try{for(n.s();!(t=n.n()).done;){t.value.setAttribute("input-email","")}}catch(e){n.e(e)}finally{n.f()}}(r)}var f=function e(t){var n=t.element,i=t.options;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b.call(this),this.element=n,this.options=i||{},this.emails=[],this.renderedEmailsCount=0,this.wrapperElement=null,this.observer=new c,this.inputValue=null,this.OBJECT_MODEL_ELEMENTS={sectionEmails:document.createElement("section"),header:document.createElement("h1"),emailContainer:document.createElement("div"),emailList:document.createElement("ul"),li:document.createElement("li"),inputEmail:document.createElement("input"),buttonsSection:document.createElement("section"),buttonAdd:document.createElement("button"),buttonCount:document.createElement("button")},this.init()},b=function(){var e=this;Object.defineProperty(this,"initDefaultEmail",{enumerable:!0,writable:!0,value:function(t){var n=[];if(Array.isArray(t)&&(n=t.map((function(t){return{email:t.toString(),id:s(t,e.emails),isValid:!0}}))),"number"==typeof t)for(var i=1;i<=t;i++)n=n.concat(a(i));return e.emails=e.emails.concat(n),e.renderEmailList()}}),Object.defineProperty(this,"renderEmailList",{enumerable:!0,writable:!0,value:function(){e.emails.filter((function(t,n){return n+1>e.renderedEmailsCount})).forEach((function(t){var n=function(e,t){var n=document.createElement("li");n.hasAttribute("input-email")||n.setAttribute("input-email","");var i=document.createElement("span");return i.hasAttribute("input-email")||i.setAttribute("input-email",""),n.classList.add("email_item"),o.test(e.email)||(n.classList.add("email_item-wrong"),e.isValid=!1),i.classList.add("email_item-del"),n.id=e.id,n.textContent=e.email,l(n,{event:"click",callback:t}),n.insertAdjacentElement("beforeend",i),n}(t,e.deleteEmailClick);e.OBJECT_MODEL_ELEMENTS.li.insertAdjacentElement("beforebegin",n),e.renderedEmailsCount=e.renderedEmailsCount+1})),e.observer.broadcast(e.emails),e.OBJECT_MODEL_ELEMENTS.inputEmail.scrollIntoView()}}),Object.defineProperty(this,"addEmailClick",{enumerable:!0,writable:!0,value:function(){if(e.inputValue)e.clearInput();else{var t=a(e.emails.length+1);e.emails=e.emails.concat(t),e.renderEmailList()}}}),Object.defineProperty(this,"addEmail",{enumerable:!0,writable:!0,value:function(t){e.emails=e.emails.concat(t),e.renderEmailList()}}),Object.defineProperty(this,"countEmail",{enumerable:!0,writable:!0,value:function(){return alert("Список email состоит из ".concat(e.emails.length,".")),e.emails.length}}),Object.defineProperty(this,"inputEmail",{enumerable:!0,writable:!0,value:function(t){if(e.inputValue=t.target.value,~e.inputValue.indexOf(",")){var n=e.inputValue.replace(/\s/g,",").split(",");n[0].trim()||(n=n.filter((function(e,t){return 0!==t}))),n.forEach((function(t){t.trim(),t&&e.addEmail({email:t,id:s(t,e.emails)})})),e.clearInput()}}}),Object.defineProperty(this,"keyPress",{enumerable:!0,writable:!0,value:function(t){var n=t.target.value;13===t.keyCode&&n&&(n.replace(/\s/g,",").split(",").forEach((function(t){t.trim()&&e.addEmail({email:t,id:s(t,e.emails)})})),e.clearInput())}}),Object.defineProperty(this,"onChange",{enumerable:!0,writable:!0,value:function(){event.target.value.replace(/\s/g,",").split(",").forEach((function(t){t.trim()&&e.addEmail({email:t,id:s(t,e.emails)})})),e.clearInput(!0)}}),Object.defineProperty(this,"clearInput",{enumerable:!0,writable:!0,value:function(t){t||(e.inputValue=null),e.OBJECT_MODEL_ELEMENTS.inputEmail.value=""}}),Object.defineProperty(this,"deleteEmailClick",{enumerable:!0,writable:!0,value:function(t){if(!t.target.id){var n=t.currentTarget.id;e.emails=e.emails.filter((function(e){return e.id!==n})),e.delEmailFromDOM(n),e.observer.broadcast(e.emails)}}}),Object.defineProperty(this,"delEmailFromDOM",{enumerable:!0,writable:!0,value:function(t){var n=document.getElementById(t);n&&n.remove(),e.renderedEmailsCount=e.renderedEmailsCount-1}}),Object.defineProperty(this,"delAllInvalid",{enumerable:!0,writable:!0,value:function(){e.emails=e.emails.map((function(t){return t.isValid?t:(e.delEmailFromDOM(t.id),null)})).filter(Boolean),e.observer.broadcast(e.emails)}}),Object.defineProperty(this,"subscribe",{enumerable:!0,writable:!0,value:function(t){return e.observer.subscribe(t),{unsubscribe:function(){return e.observer.unsubscribe(t)}}}}),Object.defineProperty(this,"init",{enumerable:!0,writable:!0,value:function(){var t,n,i,r;t={elements:e.OBJECT_MODEL_ELEMENTS,actions:{input:e.inputEmail,keyPress:e.keyPress,change:e.onChange,click:e.addEmailClick,clickCount:e.countEmail},showButtons:e.options.showButtons},n=t.elements,i=t.actions,r=t.showButtons,n.sectionEmails.classList.add("container"),n.header.classList.add("header_text"),n.header.innerHTML="Share <span>Board name</span> with others",n.emailContainer.classList.add("email_container"),n.emailList.classList.add("email_list"),n.li.classList.add("email_item-input"),n.inputEmail.classList.add("email_input"),n.inputEmail.type="text",n.inputEmail.placeholder="add more people…",l(n.inputEmail,[{event:"input",callback:i.input},{event:"keypress",callback:i.keyPress},{event:"change",callback:i.change}]),n.sectionEmails.insertAdjacentElement("afterbegin",n.header),n.header.insertAdjacentElement("afterend",n.emailContainer),n.emailContainer.insertAdjacentElement("afterbegin",n.emailList),n.emailList.insertAdjacentElement("afterbegin",n.li),n.li.insertAdjacentElement("afterbegin",n.inputEmail),(r||void 0===r)&&(n.buttonsSection.classList.add("buttons_container"),n.buttonAdd.classList.add("button"),l(n.buttonAdd,{event:"click",callback:i.click}),n.buttonAdd.id="add",n.buttonAdd.textContent="Add mail",n.buttonsSection.insertAdjacentElement("afterbegin",n.buttonAdd),n.buttonCount.id="count",n.buttonCount.textContent="Get emails count",n.buttonCount.classList.add("button"),l(n.buttonCount,{event:"click",callback:i.clickCount}),n.buttonsSection.insertAdjacentElement("beforeend",n.buttonCount)),e.options.defaultCount&&e.initDefaultEmail(e.options.defaultCount),e.options.predefinedEmails&&e.initDefaultEmail(e.options.predefinedEmails),e.options.timeOut?setTimeout((function(){p({element:e.element,sectionEmails:e.OBJECT_MODEL_ELEMENTS.sectionEmails,buttonsSection:e.OBJECT_MODEL_ELEMENTS.buttonsSection,id:e.element.id,position:e.options.position})}),e.options.timeOut):p({element:e.element,sectionEmails:e.OBJECT_MODEL_ELEMENTS.sectionEmails,buttonsSection:e.OBJECT_MODEL_ELEMENTS.buttonsSection,id:e.element.id,position:e.options.position})}}),Object.defineProperty(this,"show",{enumerable:!0,writable:!0,value:function(){e.wrapperElement.classList.contains("hidden")&&e.wrapperElement.classList.remove("hidden")}}),Object.defineProperty(this,"hide",{enumerable:!0,writable:!0,value:function(){e.wrapperElement.classList.add("hidden")}})};window.InputEmail=function(e,t){var n=new f({element:e,options:t});return{getCount:n.countEmail,addEmail:n.addEmail,delAllInvalid:n.delAllInvalid,subscribe:n.subscribe,show:n.show,hide:n.hide}}}]);